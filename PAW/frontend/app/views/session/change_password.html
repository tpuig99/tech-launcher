<div class="content-no-sidebar">
  <div class="page-title">
    {{'LOGIN_CHANGE_PASSWORD' | translate}}
  </div>

  <div class="page-description"></div>

  <form ng-if="!passwordChanged" name="changePassForm">
    <label for="userId"><input  class="input-wrap" id="userId" type="hidden" value="${user_id}"/></label>
    <div class="form-group">

      <label for="password">{{'LOGIN_PASSWORD' | translate}}</label>
      <input class="form-control" type="password" id="password" ng-model="passwordInput" ng-minlength="6" ng-maxlength="100" name="passwordInput" required placeholder="{{'LOGIN_PASSWORD_PLACEHOLDER' | translate}}"/>
      <div class="formError" ng-show="changePassForm.passwordInput.$dirty && changePassForm.passwordInput.$error.required ">{{ 'FORM_ERROR_EMPTY' | translate}}</div>
      <div class="formError" ng-show="changePassForm.passwordInput.$error.minlength || changePassForm.passwordInput.$error.maxlength">{{ 'FORM_ERROR_LENGTH' | translate : '{min: 6, max: 100}'}}</div>
    </div>
    <div class="form-group">

      <label for="repeatPassword">{{'LOGIN_PASSWORD_REPEAT' | translate}}</label>
      <input class="form-control" type="password" id="repeatPassword" ng-model="passwordRepeatInput" ng-minlength="6" ng-maxlength="100" name="passwordRepeatInput" value-matches="passwordInput" required placeholder="{{'LOGIN_PASSWORD_PLACEHOLDER' | translate}}"/>
      <div class="formError" ng-show="changePassForm.passwordRepeatInput.$dirty && changePassForm.passwordRepeatInput.$error.required ">{{ 'FORM_ERROR_EMPTY' | translate}}</div>
      <div class="formError" ng-show="changePassForm.passwordRepeatInput.$error.minlength || changePassForm.passwordRepeatInput.$error.maxlength">{{ 'FORM_ERROR_LENGTH' | translate : '{min: 6, max: 100}'}}</div>
      <div class="formError" ng-show="changePassForm.passwordRepeatInput.$dirty && changePassForm.passwordRepeatInput.$invalid">{{ 'FORM_ERROR_PASSWORDS_MATCHING' | translate}}</div>
    </div>
    <div class="d-flex justify-content-center">
      <div ng-if="!isPresent">
        <a href="{{'#/'+userLocation}}" class="btn btn-danger mr-4">{{'BUTTON_CANCEL' | translate}}</a>
      </div>
      <input ng-if="changePassForm.$invalid" disabled class="btn primary-button" type="submit" value="{{'BUTTON_SUBMIT' | translate}}"/>
      <input ng-if="changePassForm.$valid" class="btn primary-button" type="submit" value="{{'BUTTON_SUBMIT' | translate}}" ng-click="changePasswordWrapper(passwordInput)"/>
    </div>
  </form>

  <div ng-if="passwordChanged">

    <div>{{'LOGIN_PASSWORD_CHANGED' | translate}} </div>
    <div><a ng-href="#/login">{{'LOGIN_GO_LOGIN' | translate}}</a></div>
  </div>
</div>
